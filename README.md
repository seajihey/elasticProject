# 💳 우리카드 데이터 분석 프로젝트

## 📌 프로젝트 개요

본 프로젝트는 **우리카드 이용 데이터**를 기반으로 사용자 소비 행태를 분석하는 것을 목표로 합니다.  
SQL을 활용해 원본 데이터를 전처리 및 가공한 후 **Elasticsearch**에 적재하고,  
**Kibana**를 통해 주요 소비 지표를 시각화하였습니다.

이를 통해 사용자 소비 패턴을 파악하고, 분석 결과를 토대로  
**잠재 고객군을 정의**하여 고객 유치 전략에 활용 가능한 인사이트를 도출합니다.

---

## 👥 팀원 소개

|  |  |  |
| :---: | :---: | :---: |
| <img src="https://github.com/seajihey.png" width="180px"> | <img src="https://github.com/jongyeon0214.png" width="180px"> | <img src="https://github.com/cuterrabbit.png" width="180px"> |
| [서지혜](https://github.com/seajihey) | [김종연](https://github.com/jongyeon0214) | [이동욱](https://github.com/cuterrabbit) |

---

## 🧰 기술 스택

- 🔍 **분석 엔진**: Elasticsearch v8.19.3  
- 🧹 **데이터 가공**: SQL  
- 📊 **시각화**: Kibana v8.19.3  
- 🔗 **버전 관리**: Git / GitHub  
- 📝 **협업 도구**: GitKraken / Notion  

---

## 🎯 프로젝트 목표

1. SQL 기반 데이터 전처리를 통해 분석에 적합한 데이터 구조 설계  
2. 잠재 고객군 정의 및 소비 패턴 가설 수립  
3. Kibana 대시보드를 활용한 소비 패턴 시각화  
4. 고객 세분화 및 마케팅 전략 수립에 활용 가능한 인사이트 도출  

---

## 🧹 데이터 전처리

### 1️⃣ 결측 행 제거 (`cleaned_data.csv` 생성)

분석에 필수적인 **핵심 컬럼의 결측 행을 제거**하여 데이터 품질을 확보했습니다.  
해당 컬럼은 개수가 적고 수치형 데이터가 아니므로 **행 제거 방식**이 적절하다고 판단했습니다.

<img width="670" alt="image" src="https://github.com/user-attachments/assets/042f5bea-72c9-4d5b-a04f-5fe5546182c3" />

- `read_csv_auto()`를 활용한 CSV 자동 스키마 인식  
- `WHERE` 절을 통해 결측값이 없는 행만 필터링  
- `COPY TO` 구문으로 `cleaned_data.csv` 생성  
- 이후 SQL 가공 및 Elasticsearch 적재에 활용  

---

### 2️⃣ 결측값 0 치환 (`final_data.csv` 생성)

수치 연산 안정성을 위해 **잔여 결측값을 0으로 치환**했습니다.

<img width="660" alt="image" src="https://github.com/user-attachments/assets/b72aea75-e1d9-4448-a614-55906d7bafec" />

- `COALESCE()` 함수로 NULL → 0 변환  
- `EXCLUDE()`를 사용해 기존 컬럼 제외 후 재정의  
- 모든 결측값이 제거된 최종 데이터셋 생성  

---

## 🤔 문제 정의 & 가설 수립

### ❓ 문제 정의

본 프로젝트의 핵심 과제는  
**우리카드 이용 데이터를 분석하여 잠재 고객을 정의하고 소비 패턴을 도출하는 것**입니다.

잠재 고객은 다음 두 유형으로 정의했습니다.

- 🚫 우리카드를 사용하지 않는 고객  
- ⬇️ 우리카드를 사용하지만 회원 등급이 낮은 고객  

---

### ✅ 가설

- **가설 1**  
  체크카드 중심 고객의 소비 패턴을 분석하면,  
  전자제품·여행 등 할부가 적합한 카테고리를 중심으로  
  신용카드 전환을 유도할 수 있을 것이다.

- **가설 2**  
  디지털 앱 사용 고객이 비사용 고객보다 카드 이용량이 높을 것이며,  
  앱 기반 마케팅을 통해 고객 전환 및 등급 상향이 가능할 것이다.

---

### 🔍 검증 계획

Kibana 대시보드를 활용하여 다음 지표를 시각화하고 가설을 검증합니다.

- 체크카드 vs 신용카드 이용 패턴  
- 디지털 앱 사용자 vs 비사용자 이용량 비교  
- 회원 등급별 소비 클러스터링  

---

## 🚨 트러블슈팅

### ⚠️ 문제 상황

1. 연령 정보가 존재했으나 연령대별 소비 패턴 분석을 수행하지 못함  
2. 프로젝트 초기 단계에서 작업 중복 및 분석 방향성 불일치 발생  

---

### 🧩 원인

**문제 1 관련**
- 연령 정보를 Kibana에서 활용 가능한 연령대 그룹 컬럼으로 전처리하지 않음  
- 데이터 컬럼 의미 및 활용 가능성에 대한 사전 이해 부족  

**문제 2 관련**
- 분석 목표 및 역할 분담 없이 프로젝트 시작  
- 데이터 탐색(EDA) 없이 병렬 분석 진행  

---

### 🛠 해결 방법

**문제 1 해결**
- 초기 1~2일을 데이터 탐색(EDA) 단계로 필수 확보  
- 컬럼 정의 및 전처리 체크리스트 사전 작성  
- 본 프로젝트에서는 회원 등급을 대체 변수로 활용  

**문제 2 해결**
- 분석 주제 및 지표 재정의 후 역할 재분배  
- 중간 점검 회의를 통한 방향성 통합  
- 결과 공유 중심 협업으로 중복 작업 최소화  

---

## ⚙️ 실행 결과

- 📊 Kibana 대시보드를 활용한 소비 패턴 시각화  
- 🎯 잠재 고객군 정의 및 마케팅 활용 가능 인사이트 도출  
